# de[id] Public API

## Overview
This guide is designed to introduce you to the de[id] OAuth process and aims to answer all your related questions. The content here will eventually be moved to a more detailed and permanent location. 

For any assistance, feel free to reach out:
- Email: agregis@dustlabs.com
- Discord/Twitter: thebasedbob

## Example Repositories
- [NextAuth.js](https://github.com/theDeGods/deid-oauth/tree/main/examples/authorization_code/next-auth-js)
- Passport-OAuth2 (Pending)

## Scopes
Below is a list of all the available scopes you can request from a user's profile. Note that some scopes may not be fully implemented yet and might return null fields until their release.

- `wallets:read` - Read permission for all the wallets connected to the user's profile.
- `collections:read` - Read permission for all the de[assets] held in connected wallets (requires `wallets:read` scope).
- `socials:read` - Read permission for all socials connected to the userâ€™s profile. You can request individual socials:
    - `twitter:read` - Read permission for Twitter account details.
    - `discord:read` - Read permission for Discord account details.
    - `telegram:read` - Read permission for Telegram account details.
- `dust:read` - Read permission for dust info in connected wallets (requires `wallets:read` scope).
- `email:read` - Read permission for the email attached to the user's profile.
- `location:read` - Read permission for the user's location set on the profile.
- `mobile:read` - Read permission for the phone number associated with the user's profile.

## OAuth Endpoints
(Currently staging only & authorization_code grant only)

### `/oauth/authorize` [GET]
**Link:** https://verify.de.xyz/oauth/authorize

**Parameters:**
- `response_type` - Set to `code` for `authorization_code` grant flow.
- `client_id` - Your application's client identifier.
- `redirect_uri` - URL to redirect users after authorization (e.g., https://degenpicks.xyz/oauth/callback).
- `state` - Random string generated by your application for verification.
- `code_challenge` - Either a plain or S256 generated code challenge.
- `code_challenge_method` - Either `plain` or `S256`.

### `/oauth/token` [POST]
**Link:** https://api.oauth.dustlabs.com/oauth/token

**Parameters:**
- `grant_type` - Either `authorization_code` or `client_credentials`.
- `client_id` - Your application's client identifier.
- `client_secret` - (Optional) Client secret for confidential clients.
- `redirect_uri` - Redirect URI for your application.
- `code_verifier` - Originally generated code challenge.
- `code` - Authorization code from redirected URL.

### `/profile` [GET]
**Link:** https://api.oauth.dustlabs.com/profile

**Parameters:**
- None

### `/profile/wallets` [GET]
**Link:** https://api.oauth.dustlabs.com/profile/wallets

**Scopes Required:** `wallets:read`

**Parameters:**
- None

### `/profile/collections` [GET]
**Staging Link:** https://api.oauth.dustlabs.com/profile/collections

**Scopes Required:** `wallets:read`, `collections:read`

**Parameters:**
- None

### `/profile/socials` [GET]
**Link:** https://api.oauth.dustlabs.com/profile/socials

**Scopes Required:** `socials:read` OR specific read permissions like `twitter:read`, `discord:read`, `telegram:read`

**Parameters:**
- None

### `/profile/dust` [GET]
**Link:** https://api.oauth.dustlabs.com/profile/dust

**Scopes Required:** `wallets:read`, `dust:read`

**Parameters:**
- None

